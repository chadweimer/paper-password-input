<!doctype html>
<html>
<head>
	<title>paper-password-input</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
	<script src="../node_modules/wct-browser-legacy/browser.js"></script>
	<script src="../node_modules/@polymer/test-fixture/test-fixture-mocha.js"></script>
	
	<script type="module" src="../paper-password-input.js"></script>
	<script type="module" src="../node_modules/@polymer/test-fixture/test-fixture.js"></script>
</head>
<body>
	
	<test-fixture id="TrivialElement">
		<template>
			<paper-password-input></paper-password-input>
		</template>
	</test-fixture>
	
	<script type="module">
		suite('<paper-password-input>', () => {
			suite('properties', () => {
				var element;
				
				setup(() => {
					element = fixture('TrivialElement');
				});
				
				test('sets name property', () => {
					element.name = 'MyFormName';
					expect(element.$.input.name).to.be.eql('MyFormName');
				});
			});
			
			suite('icon behavior', () => {
				var element;
				
				setup(() => {
					element = fixture('TrivialElement');
				});
				
				test('show visible icon if password should be shown', () => {
					expect(element._getIcon(true)).to.be.eql('icons:visibility');
				});
				test('show invisible icon if password shouldn\'t be shown', () => {
					expect(element._getIcon(false)).to.be.eql('icons:visibility-off');
				});
			});
			
			suite('toggle behavior', () => {
				var element;
				
				setup(() => {
					element = fixture('TrivialElement');
				});
				
				test('toggles visibility', () => {
					element.visible = false;
					
					element._toggleVisibile();
					expect(element.visible).to.be.eql(true);
					
					element._toggleVisibile();
					expect(element.visible).to.be.eql(false);
				});
			});
		});
	</script>
	
</body>
</html>
